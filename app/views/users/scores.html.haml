- set_meta_tags title: t("game.scores")

- if @players.empty?
  %p.faded.text-center
    = "No games played yet. Start a"
    = succeed("?") do
      = link_to t("game.new"), new_game_path
- else
  .row
    %div{class: center(xl: 8, md: 10)}
      %section
        .header.text-center
          %h3= @user.handle
          %span.faded= @user.name
        .body
          %table{class: "table table-bordered table-striped table-sm mt-3"}
            %thead
              %tr
                %th.text-center= t("game.place")
                %th.text-center= t("game.score")
                %th= t("game.opponents")
                %th= t("game.ended")
            %tbody
              - @players.each do |player|
                %tr
                  %td.text-center{class: player.place.abs == 1 ? 'font-weight-bold' : ''}= place(player.place)
                  %td.text-center= "%d/%d" % [player.score, player.game.upto]
                  %td= render "players", players: player.game.players.where.not(user_id: @user.id)
                  %td= link_to_if can?(:show, Game), time_ago(player.game.updated_at), game_path(player.game)
